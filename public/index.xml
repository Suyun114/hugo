<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Suyun&#39;s Blog</title>
    <link>http://localhost:1313/</link>
    <description>Recent content on Suyun&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Tue, 16 Jul 2024 15:09:19 +0800</lastBuildDate>
    
        <atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>为 NAT 模式下的 VMware 虚拟机设置固定 IP</title>
        <link>http://localhost:1313/posts/vmware-nat-fixed-ip/</link>
        <pubDate>Tue, 16 Jul 2024 15:09:19 +0800</pubDate>
        
        <guid>http://localhost:1313/posts/vmware-nat-fixed-ip/</guid>
        <description>Suyun&#39;s Blog http://localhost:1313/posts/vmware-nat-fixed-ip/ -&lt;p&gt;为了满足各种需要，我在 Windows 下使用 VMware Workstation 开了多台 Linux 虚拟机。但是 VMware 的 DHCP 服务为虚拟机分配的 IP 并不是固定的，而且 VMware 的「虚拟网络编辑器」也没有提供为虚拟机设置固定 IP 的选项。实际上，是可以通过修改配置文件的方式为虚拟机设置固定 IP 的。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;首先，需要获得虚拟机的主机名（假设为 &lt;code&gt;archlinux-vm&lt;/code&gt;）和虚拟机以太网卡的 MAC 地址（可以使用 &lt;code&gt;ip a&lt;/code&gt; 等命令活动，假设为 &lt;code&gt;12:34:56:78:90:ab&lt;/code&gt;）。&lt;/p&gt;
&lt;p&gt;然后，找到 VMware 的 DHCP 服务器配置文件，该文件通常位于以下位置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows：&lt;code&gt;C:\ProgramData\VMware\vmnetdhcp.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Linux：&lt;code&gt;/etc/vmware/vmnet8/dhcp/dhcp.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用文本编辑器打开文件，在文件末尾添加以下内容（假设需要设置的固定 IP 为 &lt;code&gt;192.168.30.233&lt;/code&gt;）：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;host archlinux-vm {
    hardware ethernet 12:34:56:78:90:ab;
    fixed-address 192.168.30.233;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;修改配置文件后，在物理机上运行以下命令重启 VMware 的 DHCP 服务：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;net stop vmnetdhcp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;net start vmnetdhcp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;也可以使用 &lt;code&gt;services.msc&lt;/code&gt; 重启「VMware DHCP Service」。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果虚拟机的 IP 依然没有改变，可以尝试重启虚拟机的 &lt;code&gt;dhcpcd&lt;/code&gt; 等网络服务。&lt;/p&gt;
&lt;h1 id=&#34;参考资料&#34;&gt;参考资料&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.vmware.com/en/VMware-Workstation-Pro/17/com.vmware.ws.using.doc/GUID-04D783E1-3AB9-4D98-9891-2C58215905CC.html&#34;&gt;Editing the DHCP Server Configuration File&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://superuser.com/questions/768515/assigning-fixed-ip-by-dhcp-in-vmware-workstation&#34;&gt;Assigning fixed IP by DHCP in VMWare Workstation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://localhost:1313/posts/vmware-nat-fixed-ip/ - </description>
        </item>
    
    
  </channel>
</rss> 